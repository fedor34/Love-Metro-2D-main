# üìö –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ä–µ–∂–∏–º

> –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π *FieldEffectSystem* –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç ¬´–∫–∞—Ç–∞–∫–ª–∏–∑–º—ã¬ª –≤ –≤–∞–≥–æ–Ω–µ.

---
## 1. –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ **Scene2.unity** (–∏–ª–∏ –ª—é–±—É—é –∏–≥—Ä–æ–≤—É—é —Å—Ü–µ–Ω—É).
2. –°–æ–∑–¥–∞–π—Ç–µ –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç `EndlessMode` –∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç **EndlessModeManager**.
3. –°–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–π—Ç–µ:
   * **Difficulty Profile** ‚Äì —Å–æ–∑–¥–∞–π—Ç–µ `Assets ‚Üí Create ‚Üí Endless ‚Üí Difficulty Profile` –∏ —É–∫–∞–∂–∏—Ç–µ –∫—Ä–∏–≤—ã–µ —Ä–æ—Å—Ç–∞.
   * **Effect Pool** ‚Äì –¥–æ–±–∞–≤—å—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã:
     | EffectType | BaseWeight | CooldownRounds |
     |------------|-----------|---------------|
     | Gravity    | 1         | 0             |
     | Wind       | 1         | 0             |
     | Vortex     | 0.4       | 2             |
     | Repulsion  | 0.5       | 1             |
4. –ó–∞–¥–∞–π—Ç–µ **Round Duration** (—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ —ç—Ñ—Ñ–µ–∫—Ç—ã –∞–∫—Ç–∏–≤–Ω—ã) –∏ **Break Duration** (–ø–µ—Ä–µ–¥—ã—à–∫–∞).
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å—Ü–µ–Ω—É ‚Äì –∫–∞–∂–¥—ã–µ N —Å–µ–∫—É–Ω–¥ –±—É–¥—É—Ç —Å–ø–∞–≤–Ω–∏—Ç—å—Å—è —ç—Ñ—Ñ–µ–∫—Ç—ã –ø–æ–ª—è.

---
## 2. –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. **EndlessModeManager** –≤–µ–¥—ë—Ç —Å—á—ë—Ç —Ä–∞—É–Ω–¥–∞–º, —Ö—Ä–∞–Ω–∏—Ç —Ç–∞–π–º–µ—Ä—ã.
2. –ù–∞ –∫–∞–∂–¥—ã–π —Ä–∞—É–Ω–¥:
   * –° –ø–æ–º–æ—â—å—é –∫—Ä–∏–≤–æ–π *effectsPerRound* —Ä–µ—à–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ —Å–æ–∑–¥–∞—Ç—å.
   * –ü–æ –∫—Ä–∏–≤–æ–π *strengthMultiplier* —É—Å–∏–ª–∏–≤–∞–µ—Ç –∏—Ö ¬´—Å–∏–ª—É¬ª.
   * –°–ª—É—á–∞–π–Ω–æ –≤—ã–±–∏—Ä–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç—ã –∏–∑ –ø—É–ª–∞ (—Å —É—á—ë—Ç–æ–º cooldown –∏ –≤–µ—Å–∞).
   * –°–æ–∑–¥–∞—ë—Ç –∏—Ö –º–µ—Ç–æ–¥–æ–º `BaseFieldEffect.CreateEffect()` –≤ —Å–ª—É—á–∞–π–Ω–æ–π —Ç–æ—á–∫–µ –≤–∞–≥–æ–Ω–∞.
3. –ü–æ—Å–ª–µ `roundDuration` –∂–¥—ë—Ç `breakDuration` –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞—É–Ω–¥.

---
## 3. –¢–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
* **spawnRangeX / Y** ‚Äì –¥–∏–∞–ø–∞–∑–æ–Ω –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç, –∫—É–¥–∞ —Å—Ç–∞–≤–∏—Ç—Å—è —Ü–µ–Ω—Ç—Ä —ç—Ñ—Ñ–µ–∫—Ç–∞ (–ø–æ–¥–±–µ—Ä–∏—Ç–µ –ø–æ–¥ —Ä–∞–∑–º–µ—Ä—ã –≤–∞–≥–æ–Ω–∞).
* **CooldownRounds** ‚Äì –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ —ç—Ñ—Ñ–µ–∫—Ç–∞.
* **AnimationCurve** –≤ Difficulty Profile
  * *strengthMultiplier* ‚Äì X=
    –º–∏–Ω—É—Ç—ã; Y=–º–Ω–æ–∂–∏—Ç–µ–ª—å —Å–∏–ª—ã (1 = –±–∞–∑–æ–≤–∞—è). –ü—Ä–∏–º–µ—Ä: (0,1) ‚Üí (5,2) ‚Üí (10,3).
  * *effectsPerRound* ‚Äì X=–º–∏–Ω—É—Ç—ã; Y=–∫–æ–ª-–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤.

---
## 4. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ
* –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ FieldEffect‚Äô—ã
  * –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–ª–∞—Å—Å, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –≤ `BaseFieldEffect.CreateEffect()`.
* –°–∏–≥–Ω–∞–ª—ã-–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
  * –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç *AnnouncementUI*; –ø–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –ø—É–±–ª–∏—á–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ `EndlessModeManager.OnRoundStart` (–¥–æ–±–∞–≤—å—Ç–µ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏).
* –ë–∞–ª–∞–Ω—Å –æ—á–∫–æ–≤
  * –í—ã–∑–æ–≤–∏—Ç–µ –∏–∑ *EndlessModeManager* `ScoreMultiplierSystem.SetMultiplier(strengthMultiplier);` ‚Äì –Ω–∞–ø–∏—Å–∞—Ç—å –∫–ª–∞—Å—Å-–æ–±—ë—Ä—Ç–∫—É.

---
## 5. –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç
–í –∫–∞—á–µ—Å—Ç–≤–µ —Ç–µ—Å—Ç–∞:
```csharp
// –í–Ω–∞—á–∞–ª–µ —Å—Ü–µ–Ω—ã
EndlessModeManager mgr = FindObjectOfType<EndlessModeManager>();
Debug.Log($"–†–∞—É–Ω–¥ {mgr.CurrentRound}, –≤—Å–µ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤: {FindObjectsOfType<BaseFieldEffect>().Length}");
```
–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å—Ü–µ–Ω—É –Ω–∞ 2‚Äì3 –º–∏–Ω—É—Ç—ã ‚Äì –¥–æ–ª–∂–Ω—ã —á–µ—Ä–µ–¥–æ–≤–∞—Ç—å—Å—è —Ä–∞–∑–Ω—ã–µ —Å–∏–ª—ã –≤–µ—Ç—Ä–∞, –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏ –∏ –≤–∏—Ö—Ä–∏.

---
Enjoy! üé¢ 